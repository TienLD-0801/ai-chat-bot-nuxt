import{n as e,h as a,j as t,k as s,t as l,a1 as i,a2 as n,f as r,r as u,p as o,W as c,w as m,Z as g,$ as _,u as d,S as h,X as v,Y as p,P as R,a3 as E,A as k,b as y,a4 as A,l as b,m as H,_ as O}from"./aVp2OMsq.js";import{_ as w}from"./CW0bt-Ac.js";import{D as T,a as f}from"./DUdA35DA.js";import{u as D,s as I}from"./Fdyh27MD.js";import"./DjxEfnIg.js";const C={class:"dialog"},S={class:"dialog__card"},N={key:0},P=e({__name:"Popup",props:{title:{},numberCountDown:{}},setup:e=>(e,n)=>(a(),t("div",C,[s("div",S,[s("div",null,l(e.title),1),0!==e.numberCountDown?(a(),t("div",N,l(e.numberCountDown),1)):i("",!0)])]))}),G={class:"dialog-result"},$={class:"dialog-result__card"},j={class:"dialog-result__card__title"},L={class:"dialog-result__card__button"},Y={class:"dialog-result__card__button__chat"},V={__name:"PopupResult",props:["title","status"],emits:["on-click-again","on-click-chat"],setup:e=>(n(),(i,n)=>(a(),t("div",G,[s("div",$,[s("div",j,l(e.title),1),s("div",L,[s("div",{class:"dialog-result__card__button__again",onClick:n[0]||(n[0]=e=>i.$emit("on-click-again"))}," Play Again "),s("div",{class:"dialog-result__card__button__chat",onClick:n[1]||(n[1]=e=>i.$emit("on-click-chat"))}," Chat Bot "),s("div",Y,"Game "+l(e.status),1)])])])))},M=r("hand-sign",(()=>{const e=u(null);return{result:e,setResult:a=>{e.value=a},resetValue:()=>{e.value=null}}}),{persist:{storage:o.localStorage}}),W={class:"game-handsign"},q={key:0,class:"game-handsign__item"},x=["src"],J={key:1,class:"game-handsign__result"},U={class:"game-handsign__result__img"},B=["src"],K={class:"game-handsign__button-wrapper"},F={class:"game-handsign__button-wrapper__container"},X=["src"],Z={class:"game-handsign__button-wrapper__container__title"},z=e({__name:"HandSign",setup(e){const{$state:i,resetValue:n}=M(),r=u(!1),o=()=>{switch(i.result){case"Rock on":return"images/i-love-you.png";case"Peace":return"images/hand.png";case"Thumbs up":return"images/thumbs-up.png";case"OK Hand sign":return"images/ok.png";case"Flex":return"images/burn.png";case"Heart":return"images/heart.png";default:return"images/sad.png"}},E=()=>{r.value=!1,n()},k=()=>{r.value=!1,R("/ChatBot")};return c((()=>{r.value=!1,n()})),m((()=>{i.result&&setTimeout((()=>{r.value=!0}),3e3)})),(e,n)=>{const u=V;return a(),t(v,null,[g(h(u,{title:"What are you going to do then ?",status:"Helmet",onOnClickAgain:E,onOnClickChat:k},null,512),[[_,d(r)]]),s("div",W,[d(i).result?(a(),t("div",J,[s("div",U,[s("img",{src:o(),width:"432",height:"432"},null,8,B)])])):(a(),t("div",q,[(a(!0),t(v,null,p("DATA_HAND_SIGN"in e?e.DATA_HAND_SIGN:d(T),(e=>(a(),t("div",{class:"game-handsign__item__img",key:e.id},[s("img",{src:e.image},null,8,x)])))),128))])),s("div",K,[s("div",F,[s("img",{width:"92",height:"92",src:d(i).result?"images/firework.png":"images/flower.png"},null,8,X),s("p",Z,l(d(i).result?`YOU ARE POSING A [${d(i).result}]!`:"LETâ€™S POSE A HANDSIGN!"),1)])])])],64)}}}),Q=r("helmet",(()=>{const e=u({image:"",result:{}});return{result:e,setResult:a=>{e.value=a},resetValue:()=>{e.value=null}}}),{persist:{storage:o.localStorage}}),ee=E("/images/check-mark.png"),ae=E("/images/check-fail.png"),te=E("/images/helmet.png"),se={class:"game-helmet"},le={class:"game-helmet__item"},ie={key:0,width:"100",height:"100",class:"game-helmet__item__img",src:ee},ne={key:1,width:"100",height:"100",class:"game-helmet__item__img",src:ae},re={key:2,width:"100",height:"100",class:"game-helmet__item__img",src:te},ue=["src"],oe={class:"game-helmet__button-wrapper"},ce={class:"game-helmet__button-wrapper__container"},me={class:"game-helmet__button-wrapper__container__title"},ge=e({__name:"HelMet",setup(e){const{$state:i,resetValue:n}=Q(),r=k((()=>{if(!i.result)return;const{result:e}=i.result;return e.s})),o=k((()=>{if(!i.result)return;const{result:e}=i.result;switch(e.s){case 0:return`SOMETHING NOT RIGHT! ${e.result}`;case 1:return"CONGRATULATION! YOU ARE WEARING YOUR HELMET CORRECTLY"}})),p=k((()=>{if(i.result)return i.result.image})),{start:E,stream:A}=D(),b=u(!1),H=u(),O=()=>{b.value=!1,n()},w=()=>{b.value=!1,R("/ChatBot")};return y((()=>i.result),((e,a)=>{null!==e&&setTimeout((()=>{b.value=!0}),3e3)})),c((()=>{b.value=!1,n()})),m((()=>{H.value&&(H.value.srcObject=A.value)})),E(),(e,i)=>{const n=V;return a(),t(v,null,[g(h(n,{title:"What are you going to do then ?",status:"Handsign",onOnClickAgain:O,onOnClickChat:w},null,512),[[_,d(b)]]),s("div",se,[s("div",le,[1===d(r)?(a(),t("img",ie)):0===d(r)?(a(),t("img",ne)):(a(),t("img",re)),d(p)?(a(),t("img",{key:4,style:{"border-radius":"30px"},width:"538",height:"595",src:d(p),class:"game-helmet__capture"},null,8,ue)):(a(),t("video",{key:3,ref_key:"videoHelmet",ref:H,width:"100%",height:"100%",class:"game-helmet__video",autoplay:""},null,512))]),s("div",oe,[s("div",ce,[s("p",me,l(d(o)??"LET WEAR THE HELMET!"),1)])])])],64)}}}),_e={class:"game-shirt"},de={class:"game-shirt__item"},he=s("div",{class:"game-shirt__button-wrapper"},[s("div",{class:"game-shirt__button-wrapper__container"},[s("p",{class:"game-shirt__button-wrapper__container__title"},l("THERE ARE [3] PEOPLE WEARING [BLACK] SHIRT"))])],-1),ve=e({__name:"ShirtEdition",setup(e){const{start:l,stream:i}=D(),n=u();return m((()=>{n.value&&(n.value.srcObject=i.value)})),l(),(e,l)=>(a(),t("div",_e,[s("div",de,[s("video",{ref_key:"videoShirt",ref:n,width:"100%",height:"100%",class:"game-shirt__video",autoplay:"",muted:""},null,512)]),he]))}}),pe={class:"main-page"},Re={class:"layout"},Ee=(e=>(b("data-v-c9da0ad9"),e=e(),H(),e))((()=>s("source",{type:"video/mp4"},null,-1))),ke=O(e({__name:"index",setup(e){const l=n(),{start:i,stream:r}=D(),o=M(),c=Q(),p=u(),R=u(!1),E=u(null),k=u(5),b=u("Ready go ..."),H=(e,a)=>{const t=I((()=>{0===--e&&(O(a),b.value="processing ...",clearInterval(t)),k.value=e}),1e3)},O=e=>{if(!p.value||!E.value)return;const a=E.value,t=a.getContext("2d");if(!t)return;a.width=p.value.videoWidth,a.height=p.value.videoHeight,t.drawImage(p.value,0,0);const s=a.toDataURL("image/png");console.log(s),T(s.replace("data:image/png;base64,",""),e)},T=async(e,a)=>{try{const{message:t}=await $fetch(a,{method:"POST",body:{image:JSON.stringify(e)}});a.includes("handsign")?o.setResult(t[f]):c.setResult({result:t,image:`data:image/png;base64,${e}`})}catch(t){console.log("error ",t)}finally{R.value=!1}};switch(l.query.name){case"REVERSED-JEOPARDY":setTimeout((()=>{R.value=!0,H(5,"https://demo20.ai.bnksolution.com/handsign/predict")}),2500);break;case"CHROMAAI: SHIRT EDITION":break;case"HARDHAT-HERO":setTimeout((()=>{R.value=!0,H(5,"https://demo20.ai.bnksolution.com/helmet/predict")}),2500)}return y((()=>o.$state.result),((e,a)=>{null===e&&setTimeout((()=>{R.value=!0,b.value="Ready go ...",k.value=5,H(5,"https://demo20.ai.bnksolution.com/handsign/predict")}),2e3)})),y((()=>c.$state.result),((e,a)=>{null===e&&setTimeout((()=>{R.value=!0,b.value="Ready go ...",k.value=5,H(5,"https://demo20.ai.bnksolution.com/helmet/predict")}),2e3)})),m((()=>{p.value&&(p.value.srcObject=r.value)})),i(),(e,i)=>{const n=P,r=w,u=z,o=ge,c=ve;return a(),t(v,null,[g(h(n,{title:d(b),numberCountDown:d(k)},null,8,["title","numberCountDown"]),[[_,d(R)]]),s("main",pe,[s("div",Re,[h(r,{titleHeader:"REVERSED-JEOPARDY"===d(l).query.name?"REVERSED JEOPARDY":"CHROMAAI: SHIRT EDITION"===d(l).query.name?"CHROMAAI: SHIRT EDITION":"HARDHAT HERO"},null,8,["titleHeader"]),"REVERSED-JEOPARDY"===d(l).query.name?(a(),A(u,{key:0})):"HARDHAT-HERO"===d(l).query.name?(a(),A(o,{key:1})):(a(),A(c,{key:2})),s("video",{ref_key:"videoGame",ref:p,height:"100%",width:"100%",autoplay:""},[Ee,s("canvas",{ref_key:"canvasElement",ref:E},null,512)],512)])])],64)}}}),[["__scopeId","data-v-c9da0ad9"]]);export{ke as default};
